"use strict";(self.webpackChunktake_your_notes_v1=self.webpackChunktake_your_notes_v1||[]).push([[824],{1685:(e,s,t)=>{t.d(s,{Z:()=>l});var a=t(2791),n=t(4487),i=t(184);const l=e=>{const{mainCategories:s=[],suggestions:t=[],onChange:l=(()=>{}),onCreate:c=(()=>{}),className:o,...r}=e,[d,x]=(0,a.useState)(""),u=e=>s.slice(0,e).concat(s.slice(e+1));return(0,i.jsx)(a.Fragment,{children:(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"flex max-w-mds justify-ends text-default  ".concat(o),children:[s.map(((e,s)=>{const{mainCategoryName:t}=e;return(0,i.jsxs)("div",{className:"flex bg-custom mx-1 my-1 text-xs rounded-md",children:[(0,i.jsxs)("span",{className:"mx-1 px-2 py-1",children:["#",t]}),(0,i.jsx)("span",{className:"flex items-center text-bold rounded-md cursor-pointer px-1 hover-destructive hover-text-custom",onClick:()=>(e=>{const s=u(e);l(s)})(s),children:(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-x",children:[(0,i.jsx)("path",{d:"M18 6 6 18"}),(0,i.jsx)("path",{d:"m6 6 12 12"})]})})]},s)})),s.length>2&&(0,i.jsx)("div",{className:"flex mx-1 my-1 text-xs rounded-md",children:(0,i.jsx)("span",{className:"flex items-center text-bold rounded-md cursor-pointer px-1 hover-destructive hover-text-custom",onClick:()=>{l([])},children:(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-delete",children:[(0,i.jsx)("path",{d:"M20 5H9l-7 7 7 7h11a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2Z"}),(0,i.jsx)("line",{x1:"18",x2:"12",y1:"9",y2:"15"}),(0,i.jsx)("line",{x1:"12",x2:"18",y1:"9",y2:"15"})]})})})]}),(0,i.jsx)("div",{className:"flex justify-ends",children:(0,i.jsx)("div",{className:"min-w-md",children:(0,i.jsx)(n.Z,{placeholder:"Type and press Enter to select",labelName:"Related Tags",...r,onKeyDown:(e,t)=>{if("Enter"===t.key){if(!e)return;x(""),c(e)}if("Backspace"===t.key&&0===e.length){const e=s.length,t=u(e-1);l(t)}},onChange:(e,s)=>{x(e)},onSuggestionClick:(e,s)=>{l(s)},onCreate:(e,s)=>{c(e),x("")},value:d,selectedOptions:s,suggestions:t,labelKey:"mainCategoryName",idKey:"id",hasCreateNew:!1})})})]})})}},5824:(e,s,t)=>{t.r(s),t.d(s,{default:()=>u});var a=t(2791),n=(t(1381),t(913)),i=t(1039),l=t(1685),c=t(7323),o=t(7689),r=t(184);const d={none:"Create",loading:"Creating",failure:"Failed",completed:"Created"},x={none:"Update",loading:"Updating",failure:"Failed",completed:"Updated"},u=e=>{const{id:s}=(0,o.UO)(),{categoryModalData:t,onClose:u=(()=>{})}=e,{data:m={},onClick:h}=t||{},{categoryName:g=""}=m,y=s?x:d,p="".concat(s?"Update Category":"Create Category"),f="Are you sure you want to ".concat(s?"update the category":"create a new category","?"),[j,v]=(0,a.useState)([]),[C,w]=(0,a.useState)([]),[N,k]=(0,a.useState)(),[b,z]=(0,a.useState)(g),[S,_]=(0,a.useState)("none"),[Z,E]=(0,a.useState)("none"),[F,U]=(0,a.useState)("");return(0,a.useEffect)((()=>{z(g)}),[g]),(0,a.useEffect)((()=>{(async()=>{try{const e=await c.zg();w(e)}catch(e){console.log(e)}})()}),[]),(0,a.useEffect)((()=>{if(!s)return;(async()=>{try{E("loading");const e=await c.rP(s),{id:t,mainCategories:a,categoryName:n}=e||{};k(t),z(n),v(a),E("success")}catch(e){E("failure")}})()}),[s]),(0,r.jsx)(a.Fragment,{children:(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsxs)("div",{className:"flex flex-col px-3 py-2",children:[(0,r.jsx)(n.Z,{size:"lg",children:p}),(0,r.jsx)(n.Z,{size:"xs",textVariant:"default",children:f}),s?(0,r.jsx)(n.Z,{size:"xs",textVariant:"bold",children:g}):null]}),(0,r.jsxs)("div",{className:"flex flex-col mx-3 px-3 py-2 bg-default",children:[(0,r.jsx)("div",{className:"my-3",children:(0,r.jsx)(i.zC,{type:"text",labelName:"New category name",placeholder:"Enter category name",value:b,onChange:z,size:"sm",isFocused:!0,validationMsg:{type:"error",messages:[F]}})}),(0,r.jsx)("div",{className:"my-3",children:(0,r.jsx)(l.Z,{mainCategories:j,onChange:e=>{v(e)},suggestions:C})})]}),(0,r.jsxs)("div",{className:"items-center px-2 py-4 flex justify-between",children:[(0,r.jsx)(i.zx,{size:"xs",width:"none",variant:"custom",onClick:()=>{},children:"Cancel"}),(0,r.jsx)(i.zx,{size:"xs",width:"none",variant:"accent",onClick:async()=>{const e=j.map((e=>e.id)),t=(e=>e?(U(""),!0):(U("Please enter a category name"),!1))(b),a={category_name:b,main_category_ids:e};if(t)if(s){_("loading");try{await c.$A(a,N);_("completed")}catch(n){_("failure"),U(n)}finally{setTimeout((()=>{_("none")}),1e3)}}else;},buttonStatus:S,children:y[S]})]})]})})}}}]);
//# sourceMappingURL=824.d37bb437.chunk.js.map