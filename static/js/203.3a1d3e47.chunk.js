"use strict";(self.webpackChunktake_your_notes_v1=self.webpackChunktake_your_notes_v1||[]).push([[203],{1475:(e,t,s)=>{s.d(t,{tb:()=>a.Z});s(542),s(6003);var a=s(6051)},6843:(e,t,s)=>{s.d(t,{Z:()=>i});var a=s(2791),o=s(1087),r=s(184);const i=e=>{let{items:t=[],links:s=[]}=e;const i=t.length-1;return(0,r.jsx)("div",{className:"flex rounded-lg px-2 my-2 text-xs bg-default text-secondary",children:t.map(((e,t)=>{const n=t===i;return(0,r.jsxs)(a.Fragment,{children:[s[t]?(0,r.jsx)(o.rU,{to:s[t],children:(0,r.jsx)("span",{className:"".concat(n?"text-default":""),children:e})}):(0,r.jsx)("span",{className:"".concat(n?"text-default":""),children:e}),!n&&(0,r.jsx)("span",{className:"flex items-center text-default mx-1",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-chevron-right",children:(0,r.jsx)("path",{d:"m9 18 6-6-6-6"})})})]})}))})}},4664:(e,t,s)=>{s.d(t,{Z:()=>l});var a=s(2791),o=s(6215),r=s(913),i=s(6033),n=s(6904),c=s(184);const l=e=>{const{title:t,children:s}=e,[l,d]=(0,a.useState)(null),h=()=>{d(!0)},u=()=>{d(!1)};return(0,n.Z)(u,l),l?(0,c.jsxs)(o.Z,{isShown:l,hasOverlay:!0,size:"xl",children:[(0,c.jsxs)("div",{className:"my-4",children:[(0,c.jsxs)("div",{className:"flex justify-between",children:[(0,c.jsx)(r.Z,{textVariant:"h3",size:"md",className:"my-4 mx-4",children:t}),(0,c.jsx)("button",{onClick:u,type:"button","data-drawer-hide":"drawer-example","aria-controls":"drawer-example",className:"text-default bg-transparent rounded-lg text-sm flex items-center justify-center mx-4",children:(0,c.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-x",children:[(0,c.jsx)("path",{d:"M18 6 6 18"}),(0,c.jsx)("path",{d:"m6 6 12 12"})]})})]}),(0,c.jsx)(i.Z,{className:"my-2"})]}),(0,c.jsx)("div",{className:"mx-4 mb-4 py-4 text-sm",children:s})]}):(0,c.jsx)("span",{onClick:h,className:"flex hover-text-info items-center cursor-pointer pl-2",children:(0,c.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-info",children:[(0,c.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,c.jsx)("path",{d:"M12 16v-4"}),(0,c.jsx)("path",{d:"M12 8h.01"})]})})}},3479:(e,t,s)=>{s.d(t,{Z:()=>h});var a=s(2791),o=s(6033),r=s(7359),i=s(913),n=s(4664),c=s(1087),l=s(3719),d=s(184);const h=()=>(0,d.jsx)(n.Z,{title:"Help information about My Posts",children:(0,d.jsxs)(a.Fragment,{children:[(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsx)(i.Z,{size:"md",className:"mb-2",children:"Posts Information:"}),(0,d.jsx)(i.Z,{textVariant:"light",size:"xs",children:"- Public Posts: These posts are visible to everyone and can be accessed by all users."}),(0,d.jsx)(i.Z,{textVariant:"light",size:"xs",children:"- Private Posts: These posts are only visible to you until they are made public."})]}),(0,d.jsxs)(r.p,{type:"info",children:[(0,d.jsx)(i.Z,{children:"Heads up!"}),(0,d.jsx)(i.Z,{textVariant:"light",size:"xs",children:"On list of posts created by you. The faded items are posts whose category has been created but not yet approved by the admin."})]}),(0,d.jsx)(o.Z,{className:"my-4"}),(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsx)(i.Z,{size:"md",className:"mb-2",children:"Create New Category Information:"}),(0,d.jsx)(i.Z,{textVariant:"light",size:"xs",children:"- When creating a new post, you can type in the name of your desired category in the category dropdown."}),(0,d.jsx)(i.Z,{textVariant:"light",size:"xs",children:"- If no existing category matches your needs, you can create a new one."}),(0,d.jsxs)(i.Z,{textVariant:"light",size:"xs",children:["- The new category will be submitted for admin approval. Until it's approved, it will be ",(0,d.jsx)("b",{children:"only visible to you"}),"."]})]}),(0,d.jsxs)(r.p,{type:"error",children:[(0,d.jsx)(i.Z,{children:"Important!"}),(0,d.jsx)(i.Z,{textVariant:"light",size:"xs",children:"Posts under unverified categories will only be visible on the home page and to users once the category is verified."}),(0,d.jsxs)(i.Z,{textVariant:"light",size:"xs",children:["You can check the status of the category in the ",(0,d.jsx)(c.rU,{to:l.Z.MY_CATEGORY,className:"text-bold underline",children:"my category"})," section."]})]}),(0,d.jsx)(o.Z,{className:"my-4"}),(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsx)(i.Z,{size:"md",className:"mb-2",children:"Managing Categories:"}),(0,d.jsxs)(i.Z,{textVariant:"light",size:"xs",children:["- You can create and manage your categories in the ",(0,d.jsx)(c.rU,{to:l.Z.MY_CATEGORY,className:"text-bold underline",children:"MyCategories"})," page."]})]})]})})},4232:(e,t,s)=>{s.d(t,{Z:()=>l});var a=s(2791),o=s(3097),r=s(1686),i=s(792),n=s(5866),c=s(184);const l=e=>{let{my:t=!0,category:s,categoryList_arg:l,onChange:d=(()=>{}),hasAddOption:h=!0}=e;const{savePostCategory:u,fetchMyPostCategories:p,fetchPostCategories:x,fetchStatus:g,isAllDataFetched:m,categories:y}=(0,r.Z)(),v=t?p:x,[j,f]=(0,a.useState)({filters:"explore",verified:"all",limit:30,page:1}),[w,b]=(0,a.useState)(s),[T,S]=(0,a.useState)([]),{id:N,categorySlug:C,categoryName:E="Select a category"}=(0,a.useMemo)((()=>w||{}),[w]),{id:Z}=(0,a.useMemo)((()=>T.find((e=>e.categorySlug===C))||{}),[T,C]),[k,_]=(0,a.useState)(null),M=(0,n.Z)(),P=(e,t)=>{const{categorySlug:s=""}=t||{};b(t),d(e,t,s)},I=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const t={...j,...e};try{const e=await v(t);S((t=>[...t,...e])),f((e=>({...e,page:e.page+1})))}catch(s){console.error(s)}},L=async e=>{try{const t=await u(e);S((e=>[...e,t])),b(t),d(t.id,t)}catch(t){console.error(t)}};return(0,a.useEffect)((()=>{I()}),[]),(0,c.jsxs)(a.Fragment,{children:[(0,c.jsxs)(o.ZP,{children:[(0,c.jsx)(o.f_,{children:(0,c.jsxs)("span",{className:"flex mx-1 items-center text-secondary cursor-pointer",children:[(0,c.jsx)("span",{className:"",children:E}),(0,c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"14",height:"14",fill:"currentColor",children:(0,c.jsx)("path",{d:"M18 9 12 3 6 9H18ZM18 15 12 21 6 15H18Z"})})]})}),(0,c.jsx)(o.Fo,{heading:"Select a category",options:T,onChange:P,isFetching:"loading"===g,isAllDataFetched:m,onNewOptions:I,onSearch:M((async e=>{const t={...j,search:e,page:1};try{const e=await v(t);S(e),f((e=>({...e,page:2})))}catch(s){console.error(s)}}),500),renderAdd:h?e=>{if(e)return(0,c.jsxs)("span",{className:"block w-full",onClick:()=>{var t;_({data:{categoryName:"string"===typeof(t=e)?t:""},status:!0,onClick:L})},children:['Create new "',e,'"']})}:()=>{},selectedValue:Z,idKey:"id",labelKey:"categoryName",isSpecialKey:"isVerified"}),!!N&&(0,c.jsx)("span",{className:"flex items-center text-bold rounded-md cursor-pointer px-1 hover-text-destructive",onClick:()=>P(""),children:(0,c.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-delete",children:[(0,c.jsx)("path",{d:"M20 5H9l-7 7 7 7h11a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2Z"}),(0,c.jsx)("line",{x1:"18",x2:"12",y1:"9",y2:"15"}),(0,c.jsx)("line",{x1:"12",x2:"18",y1:"9",y2:"15"})]})})]},"".concat(N,"_").concat(E)),!!k&&(0,c.jsx)(i.Z,{onClose:()=>{_(null)},categoryModalData:k})]})}},6114:(e,t,s)=>{s.d(t,{Z:()=>i});s(2791);var a=s(6119),o=s(2144),r=s(184);const i=e=>{let{currentMode:t,onChange:s}=e;return(0,r.jsx)(a.Z,{modes:o.XD,onChange:s,selectedValue:t,renderLabel:!0})}},475:(e,t,s)=>{s.d(t,{a:()=>a});const a={SET_FIELDS:"SET_FIELDS",SET_TAGS:"SET_TAGS",SET_VISIBILITY:"SET_VISIBILITY",SET_CONTENT:"SET_CONTENT",SET_TITLE:"SET_TITLE",SET_CATEGORY:"SET_CATEGORY",RESET_FORM:"RESET_FORM"}},2144:(e,t,s)=>{s.d(t,{Qd:()=>o,XD:()=>r,ZM:()=>i});var a=s(184);const o={private:"private",public:"public"},r=[{id:o.private,label:"Private",modeElement:(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-eye-off",children:[(0,a.jsx)("path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49"}),(0,a.jsx)("path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242"}),(0,a.jsx)("path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143"}),(0,a.jsx)("path",{d:"m2 2 20 20"})]})},{id:o.public,label:"Public",modeElement:(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-eye",children:[(0,a.jsx)("path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0"}),(0,a.jsx)("circle",{cx:"12",cy:"12",r:"3"})]})}],i="My First Post"},1172:(e,t,s)=>{s.d(t,{Z:()=>g});var a=s(2791),o=s(1087),r=s(7689),i=s(7128),n=s(7323),c=s(2144),l=s(475);const d={postTags:[],currentVisibilityMode:c.Qd.public,postTitle:c.ZM,postCategory:null,markdownContent:""},h=(e,t)=>{let{type:s,payload:a}=t;switch(s){case l.a.SET_FIELDS:return{...e,...a};case l.a.SET_TAGS:return{...e,postTags:a};case l.a.SET_VISIBILITY:return{...e,currentVisibilityMode:a};case l.a.SET_CONTENT:return{...e,markdownContent:a};case l.a.SET_TITLE:return{...e,postTitle:a};case l.a.SET_CATEGORY:return{...e,postCategory:a};case l.a.RESET_FORM:return d;default:return e}};s(4921);var u=s(2817),p=s(775),x=s(9429);const g=()=>{const[e,t]=(0,o.lr)(),{id:s}=(0,r.UO)(),{toast:c}=(0,u.p)(),{logout:g}=(0,x.Z)(),[m,y]=(0,a.useReducer)(h,{...d}),[v,j]=(0,a.useState)("none"),f=(0,a.useCallback)((async e=>{try{const t=await i.TJ(e);return c({heading:"Post created successfully!",description:"Your post has been successfully published!",options:{position:"top-right"}}).success(),t}catch(t){const{message:e,statusCode:s}=t;throw 401===s&&g(),c({heading:"Oops! There was an error creating your post.",description:e,options:{position:"top-right"}}).error(),t}}),[]),w=(0,a.useCallback)((async(e,t)=>{try{const s=await i.CP(e,t);return c({heading:"Post updated successfully!",description:"Your post has been successfully updated!",options:{position:"top-right"}}).success(),s}catch(s){const{message:e}=s;throw c({heading:"Oops! There was an error updating your post.",description:e,options:{position:"top-right"}}).error(),s}}),[]),b=(0,a.useCallback)((async e=>{try{const t=await i.fR(e);return c({heading:"Post deleted successfully!",description:"Your post has been successfully deleted!",options:{position:"top-right"}}).success(),t}catch(t){const{message:e,statusCode:s}=t;throw 401===s&&g(),c({heading:"Oops! There was an error deleting your post.",description:e,options:{position:"top-right"}}).error(),t}}),[]),T=(0,a.useCallback)((async e=>{try{const t=await i.ts(e);return c({heading:"Post restored successfully!",description:"Your post has been successfully restored!",options:{position:"top-right"}}).success(),t}catch(t){const{message:e}=t;throw c({heading:"Oops! There was an error restoring your post.",description:e,options:{position:"top-right"}}).error(),t}}),[]);return(0,a.useEffect)((()=>{}),[s]),{fetchCategoriesData:async e=>{try{j("loading");const e=await n.hk();return j("success"),setTimeout((()=>{j("none")}),1e3),e}catch(t){j("failure")}},fetchMyPostsData:async e=>{try{j("loading");const t=await i.$n(e);return 0===t.length?j("empty"):(j("success"),setTimeout((()=>{j("none")}),1e3)),t}catch(t){const{statusCode:e}=t;throw 401===e&&g(),j("failure"),t}},fetchUsersPostItem:async()=>{if(!s)return;const{userName:e}=(0,p.bV)();try{j("loading");const t=await i.zQ({userName:e,postSlug:s}),{id:a,category:o,content:r,postTitle:n,visibility:c,user:d}=t||{},{categoryId:h,categoryName:u,categorySlug:p}=o||{},{fullName:x,avatar:g}=d||{},m={postId:a,markdownContent:r,postTitle:n,currentVisibilityMode:c,postCategory:{id:h,categoryName:u,categorySlug:p,value:p}};y({type:l.a.SET_FIELDS,payload:m}),j("success")}catch(t){j("failure")}},validatePostForm:e=>{const{postTags:t,currentVisibilityMode:s,postCategory:a,postTitle:o,markdownContent:r}=e;return a?s?o?r?[!1,""]:[!0,"Post content is missing"]:[!0,"Post Title is missing"]:[!0,"Post Visibility Mode is missing"]:[!0,"Category is missing"]},savePost:async()=>{const{postId:e,postTags:t,currentVisibilityMode:a,postCategory:o,postTitle:r,markdownContent:i}=m,n={category:o.id,content:i,post_title:r,visibility:a};return s?w(n,e):f(n)},deletePost:b,restorePost:T,postFormState:m,postFormDispatcher:y,fetchStatus:v}}},4855:(e,t,s)=>{s.d(t,{Z:()=>o});var a=s(7689);const o=()=>{const e=(0,a.s0)();return{navigateToList:()=>{e("/my/posts")},navigateToCreate:()=>{e("create")},navigateToEdit:t=>{e("edit/"+t)}}}},3203:(e,t,s)=>{s.r(t),s.d(t,{default:()=>v});var a=s(2791),o=s(1937),r=s(6843),i=(s(8189),s(6987)),n=s(6114),c=s(4232),l=s(4855),d=s(1172),h=s(475),u=s(1475),p=(s(1686),s(7359),s(913)),x=(s(3719),s(3479)),g=s(4462),m=s(2817),y=s(184);const v=()=>{const{navigateToList:e}=(0,l.Z)(),{confirmDelete:t}=(0,g.h)(),{toast:s}=(0,m.p)(),{postFormState:v,fetchUsersPostItem:j,postFormDispatcher:f,validatePostForm:w,savePost:b,fetchStatus:T}=(0,d.Z)(),{postTags:S,currentVisibilityMode:N,postCategory:C,postTitle:E,markdownContent:Z}=v,{categoryName:k}=C||{},_=async()=>{try{await b()&&setTimeout((()=>{e()}),1300)}catch(t){throw t}};return(0,a.useEffect)((()=>{j()}),[]),"loading"===T?(0,y.jsxs)("div",{className:"m-5",children:[(0,y.jsx)(u.tb,{}),(0,y.jsx)(u.tb,{}),(0,y.jsx)(u.tb,{}),(0,y.jsx)(u.tb,{}),(0,y.jsx)(u.tb,{})]}):"failure"===T?(0,y.jsx)("div",{children:"Failed"}):(0,y.jsx)(a.Fragment,{children:(0,y.jsxs)("div",{className:"text-default m-5",children:[(0,y.jsxs)("div",{className:"flex items-center my-2",children:[(0,y.jsxs)(p.Z,{size:"lg",type:"h2",className:"flex mr-3",children:["Post page",(0,y.jsx)(x.Z,{})]}),(0,y.jsx)("div",{className:"flex text-sm p-2 bg-highlight rounded-md cursor-pointer mx-1",children:(0,y.jsx)(c.Z,{category:C,onChange:(e,t)=>{f({type:h.a.SET_CATEGORY,payload:t})}})})]}),(0,y.jsxs)("div",{className:"flex justify-between w-full ",children:[(0,y.jsx)("div",{className:"flex flex-col w-3/4",children:(0,y.jsx)("div",{children:(0,y.jsx)(r.Z,{items:[k||"Select a category",E]})})}),(0,y.jsxs)("div",{className:"flex flex-col",children:[(0,y.jsx)("div",{className:"",children:(0,y.jsx)(n.Z,{onChange:e=>{f({type:h.a.SET_VISIBILITY,payload:e})},currentMode:N})}),(0,y.jsx)("div",{onClick:async()=>{const e="public"===N?"Are you sure you want to publish this post to be visible to all users?":"Are you sure you want to save this post as only visible to you?",a="public"===N?"primary":"accent",o="public"===N?{none:"Save as public",loading:"Saving as a public post",failure:"Failed to save as a public post",completed:"Saved and visible to all users"}:{none:"Save as private",loading:"Saving as a private post",failure:"Failed to save as a private post",completed:"Saved and visible to you only"},[r,i]=w(v);if(r)return void s({heading:"Oops! Please verify the changes.",description:i,options:{position:"top-right"}}).error();await t(_,{variant:a,buttonStateValues:o,heading:"Save ".concat(N," Post ?"),message:e});return!1},className:"bg-accent border border-accent hover-text-default hover-border-accent hover-transparent text-custom text-sm my-2 p-1 px-2 cursor-pointer rounded-md",children:(0,y.jsxs)("span",{className:"flex",children:["Save",(0,y.jsx)("span",{className:"text-xs bg-secondary text-secondary border border-secondary px-1 mx-1 rounded-md",children:"\u2318 + Enter"})]})})]})]}),(0,y.jsxs)("div",{className:"editing-note py-2 bg-default shadow-xl rounded-lg",children:[(0,y.jsx)(i.Z,{className:"text-default text-lg mx-2",text:E,onSave:e=>{f({type:h.a.SET_TITLE,payload:e})}}),(0,y.jsx)("div",{className:"h-screen-1/2s overflow-scrolls",children:(0,y.jsx)(o.Z,{content:Z,onChange:e=>{f({type:h.a.SET_CONTENT,payload:e})},isPreviewEnabled:!0})})]})]})})}}}]);
//# sourceMappingURL=203.3a1d3e47.chunk.js.map