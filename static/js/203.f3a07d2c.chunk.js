"use strict";(self.webpackChunktake_your_notes_v1=self.webpackChunktake_your_notes_v1||[]).push([[203],{1475:(e,t,s)=>{s.d(t,{tb:()=>a.Z});s(542),s(6003);var a=s(6051)},6843:(e,t,s)=>{s.d(t,{Z:()=>o});var a=s(2791),n=s(184);const o=e=>{let{items:t=[]}=e;const s=t.length-1;return(0,n.jsx)("div",{className:"flex rounded-lg px-2 my-2 text-xs bg-default text-secondary",children:t.map(((e,t)=>{const o=t===s;return(0,n.jsxs)(a.Fragment,{children:[(0,n.jsx)("span",{className:"".concat(o?"text-default":""),children:e}),!o&&(0,n.jsx)("span",{className:"flex items-center text-default mx-1",children:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-chevron-right",children:(0,n.jsx)("path",{d:"m9 18 6-6-6-6"})})})]})}))})}},5915:(e,t,s)=>{s.d(t,{Z:()=>p});var a=s(2791),n=s(3097),o=s(1686),r=s(6215),i=s(1381),c=s(913),l=s(1039),d=s(184);const u={none:"Create",loading:"Creating",failure:"Failed",completed:"Created"},x={none:"Update",loading:"Updating",failure:"Failed",completed:"Updated"},h=e=>{const{categoryModalData:t,onClose:s=(()=>{})}=e,{status:n,data:o={},onClick:h}=t||{},{id:g,categoryName:p=""}=o,m=g?x:u,y="".concat(g?"Update Category":"Create Category"),v="Are you sure you want to ".concat(g?"update the category":"create a new category","?"),[S,f]=(0,a.useState)(p),[T,w]=(0,a.useState)("none"),[j,C]=(0,a.useState)(""),E=()=>{s(),f("")};return(0,a.useEffect)((()=>{f(p)}),[p]),n?(0,d.jsx)(r.Z,{isShown:!0,hasOverlay:!0,children:(0,d.jsxs)(i.Zb,{variant:"ghost",rounded:"lg",children:[(0,d.jsxs)(i.Ol,{children:[(0,d.jsx)(c.Z,{size:"lg",children:y}),(0,d.jsx)(c.Z,{size:"xs",textVariant:"default",children:v}),g?(0,d.jsx)(c.Z,{size:"xs",textVariant:"bold",children:p}):null]}),(0,d.jsx)(i.aY,{children:(0,d.jsx)(l.zC,{type:"text",labelName:"New category name",placeholder:"Enter category name",value:S,onChange:f,size:"sm",isFocused:!0,validationMsg:{type:"error",messages:[j]}})}),(0,d.jsxs)(i.eW,{className:"p-0 flex justify-between",children:[(0,d.jsx)(l.zx,{size:"xs",width:"none",variant:"custom",onClick:()=>{E()},children:"Cancel"}),(0,d.jsx)(l.zx,{size:"xs",width:"none",variant:"accent",onClick:async()=>{const e=(e=>e?(C(""),!0):(C("Please enter a category name"),!1))(S);if(e)if(h){w("loading");try{await h(S,g),w("completed"),setTimeout((()=>{E()}),1e3)}catch(t){w("failure"),C(t)}finally{setTimeout((()=>{w("none")}),1e3)}}else E()},buttonStatus:T,children:m[T]})]})]})}):null};var g=s(5866);const p=e=>{let{category:t,categoryList_arg:s,onChange:r=(()=>{}),hasAddOption:i=!0}=e;const{savePostCategory:c,fetchPostCategories:l,fetchStatus:u,isAllDataFetched:x,categories:p}=(0,o.Z)(),[m,y]=(0,a.useState)({limit:30,page:1}),[v,S]=(0,a.useState)(t),{id:f,categoryName:T="Select a category"}=(0,a.useMemo)((()=>v||{}),[v]),[w,j]=(0,a.useState)(null),C=(0,g.Z)(),E=(e,t)=>{const{categorySlug:s=""}=t||{};S(t),r(e,t,s)},b=async function(){const e={...m,...arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]};await l(e);y((e=>({...e,page:e.page+1})))},N=async e=>{const t=await c(e);r(t.id,t)};return(0,a.useEffect)((()=>{b()}),[]),(0,d.jsxs)(a.Fragment,{children:[(0,d.jsxs)(n.ZP,{children:[(0,d.jsx)(n.f_,{children:(0,d.jsxs)("span",{className:"flex mx-1 items-center text-secondary cursor-pointer",children:[(0,d.jsx)("span",{className:"",children:T}),(0,d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"14",height:"14",fill:"currentColor",children:(0,d.jsx)("path",{d:"M18 9 12 3 6 9H18ZM18 15 12 21 6 15H18Z"})})]})}),(0,d.jsx)(n.Fo,{heading:"Select a category",options:p,onChange:E,isFetching:"loading"===u,isAllDataFetched:x,onNewOptions:b,onSearch:C((e=>{b({search:e})}),500),renderAdd:i?e=>{if(e)return(0,d.jsxs)("span",{className:"block w-full",onClick:()=>{var t;j({data:{categoryName:"string"===typeof(t=e)?t:""},status:!0,onClick:N})},children:['Create new "',e,'"']})}:()=>{},selectedValue:f,idKey:"id",labelKey:"categoryName"}),!!f&&(0,d.jsx)("span",{className:"flex items-center text-bold rounded-md cursor-pointer px-1 hover-text-destructive",onClick:()=>E(""),children:(0,d.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-delete",children:[(0,d.jsx)("path",{d:"M20 5H9l-7 7 7 7h11a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2Z"}),(0,d.jsx)("line",{x1:"18",x2:"12",y1:"9",y2:"15"}),(0,d.jsx)("line",{x1:"12",x2:"18",y1:"9",y2:"15"})]})})]},"".concat(f,"_").concat(T)),!!w&&(0,d.jsx)(h,{onClose:()=>{j(null)},categoryModalData:w})]})}},6114:(e,t,s)=>{s.d(t,{Z:()=>r});s(2791);var a=s(6119),n=s(2144),o=s(184);const r=e=>{let{currentMode:t,onChange:s}=e;return(0,o.jsx)(a.Z,{modes:n.XD,onChange:s,selectedValue:t,renderLabel:!0})}},475:(e,t,s)=>{s.d(t,{a:()=>a});const a={SET_FIELDS:"SET_FIELDS",SET_TAGS:"SET_TAGS",SET_VISIBILITY:"SET_VISIBILITY",SET_CONTENT:"SET_CONTENT",SET_TITLE:"SET_TITLE",SET_CATEGORY:"SET_CATEGORY",RESET_FORM:"RESET_FORM"}},2144:(e,t,s)=>{s.d(t,{Qd:()=>n,XD:()=>o,ZM:()=>r});var a=s(184);const n={private:"private",public:"public"},o=[{id:n.private,label:"Private",modeElement:(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-eye-off",children:[(0,a.jsx)("path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49"}),(0,a.jsx)("path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242"}),(0,a.jsx)("path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143"}),(0,a.jsx)("path",{d:"m2 2 20 20"})]})},{id:n.public,label:"Public",modeElement:(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-eye",children:[(0,a.jsx)("path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0"}),(0,a.jsx)("circle",{cx:"12",cy:"12",r:"3"})]})}],r="My First Post"},1172:(e,t,s)=>{s.d(t,{Z:()=>g});var a=s(2791),n=s(1087),o=s(7689),r=s(7128),i=s(7323),c=s(2144),l=s(475);const d={postTags:[],currentVisibilityMode:c.Qd.public,postTitle:c.ZM,postCategory:null,markdownContent:""},u=(e,t)=>{let{type:s,payload:a}=t;switch(s){case l.a.SET_FIELDS:return{...e,...a};case l.a.SET_TAGS:return{...e,postTags:a};case l.a.SET_VISIBILITY:return{...e,currentVisibilityMode:a};case l.a.SET_CONTENT:return{...e,markdownContent:a};case l.a.SET_TITLE:return{...e,postTitle:a};case l.a.SET_CATEGORY:return{...e,postCategory:a};case l.a.RESET_FORM:return d;default:return e}};s(4921);var x=s(2817),h=s(775);const g=()=>{const[e,t]=(0,n.lr)(),{id:s}=(0,o.UO)(),{toast:c}=(0,x.p)(),[g,p]=(0,a.useReducer)(u,{...d}),[m,y]=(0,a.useState)("none"),v=(0,a.useCallback)((async e=>{try{const t=await r.TJ(e);return c({heading:"Post created successfully!",description:"Your post has been successfully published!",options:{position:"top-right"}}).success(),t}catch(t){const{message:e}=t;return c({heading:"Oops! There was an error creating your post.",description:e,options:{position:"top-right"}}).error(),!1}}),[]),S=(0,a.useCallback)((async(e,t)=>{try{const s=await r.CP(e,t);return c({heading:"Post updated successfully!",description:"Your post has been successfully updated!",options:{position:"top-right"}}).success(),s}catch(s){const{message:e}=s;return c({heading:"Oops! There was an error updating your post.",description:e,options:{position:"top-right"}}).error(),!1}}),[]),f=(0,a.useCallback)((async e=>{}),[]);return(0,a.useEffect)((()=>{if(!s)return;(async()=>{const{userName:e}=(0,h.bV)();try{y("loading");const t=await r.zQ({userName:e,postSlug:s}),{id:a,category:n,content:o,postTitle:i,user:c}=t||{},{categoryId:d,categoryName:u}=n||{},{fullName:x,avatar:h}=c||{},g={postId:a,markdownContent:o,postTitle:i,postCategory:{id:d,categoryName:u,value:d}};p({type:l.a.SET_FIELDS,payload:g}),y("success")}catch(t){y("failure")}})()}),[s]),{fetchCategoriesData:async e=>{try{y("loading");const e=await i.hk();return y("success"),setTimeout((()=>{y("none")}),1e3),e}catch(t){y("failure")}},fetchMyPostsData:async e=>{try{y("loading");const t=await r.$n(e);return 0===t.length?y("empty"):(y("success"),setTimeout((()=>{y("none")}),1e3)),t}catch(t){throw y("failure"),t}},savePost:async()=>{const[e,t]=(e=>{const{postTags:t,currentVisibilityMode:s,postCategory:a,postTitle:n,markdownContent:o}=e;return a?s?n?o?[!1,""]:[!0,"Post content is missing"]:[!0,"Post Title is missing"]:[!0,"Post Visibility Mode is missing"]:[!0,"Category is missing"]})(g);if(e)return void c({heading:"Oops! Please verify the changes.",description:t,options:{position:"top-right"}}).error();const{postId:a,postTags:n,currentVisibilityMode:o,postCategory:r,postTitle:i,markdownContent:l}=g,d={category:r.id,content:l,post_title:i,visibility:o};return s?S(d,a):v(d)},deletePost:f,postFormState:g,postFormDispatcher:p,fetchStatus:m}}},1686:(e,t,s)=>{s.d(t,{Z:()=>r});var a=s(2791),n=s(7323),o=s(2817);const r=()=>{const[e,t]=(0,a.useState)([]),[s,r]=(0,a.useState)([]),[i,c]=(0,a.useState)("none"),[l,d]=(0,a.useState)(!1),{toast:u}=(0,o.p)(),x=(e,t)=>{t&&d(0===e.length||e.length%t!==0)};return{categoryData:s,isAllDataFetched:l,categories:e,fetchStatus:i,fetchPostCategories:async e=>{const{limit:s}=e||{};try{c("loading");const a=await n.hk(e);return t((e=>[...e,...a])),x(a,s),0===a.length?c("empty"):(c("success"),setTimeout((()=>{}),1e3)),a}catch(a){const{statusCode:e}=a||{};c(401===e?"unauthorised":"failure")}},fetchPostCategoryByName:async e=>{try{c("loading");const t=await n.wG(e);return r(t),c("success"),t}catch(t){c("failure")}},savePostCategory:async e=>(async e=>{try{const s=await n.t4(e);return u({heading:"Post Category created successfully!",description:"Your post Category is now in review, but will be approved by admin soon!",options:{position:"top-right"}}).success(),t((e=>[s,...e])),s}catch(s){const{message:e="Something went wrong"}=s||{};throw e}})({category_name:e})}}},4855:(e,t,s)=>{s.d(t,{Z:()=>n});var a=s(7689);const n=()=>{const e=(0,a.s0)();return{navigateToList:()=>{e("/my/posts")},navigateToCreate:()=>{e("create")},navigateToEdit:t=>{e("edit/"+t)}}}},3203:(e,t,s)=>{s.r(t),s.d(t,{default:()=>m});var a=s(2791),n=s(1937),o=s(6843),r=s(1162),i=s(6987),c=s(6114),l=s(5915),d=s(4855),u=s(1172),x=s(475),h=s(1475),g=(s(1686),s(184));const p=[{id:"JavaScript",text:"JavaScript"},{id:"React",text:"React"},{id:"Node.js",text:"Node.js"},{id:"CSS",text:"CSS"},{id:"HTML",text:"HTML"},{id:"Python",text:"Python"},{id:"Java",text:"Java"},{id:"C++",text:"C++"},{id:"Web Development",text:"Web Development"},{id:"Programming",text:"Programming"},{id:"Frontend",text:"Frontend"},{id:"Backend",text:"Backend"},{id:"Machine Learning",text:"Machine Learning"},{id:"Artificial Intelligence",text:"Artificial Intelligence"},{id:"DevOps",text:"DevOps"},{id:"Data Science",text:"Data Science"},{id:"Mobile Development",text:"Mobile Development"},{id:"UX/UI Design",text:"UX/UI Design"},{id:"Testing",text:"Testing"},{id:"Software Engineering",text:"Software Engineering"},{id:"Git",text:"Git"},{id:"Docker",text:"Docker"},{id:"GraphQL",text:"GraphQL"},{id:"REST API",text:"REST API"},{id:"AWS",text:"AWS"},{id:"Azure",text:"Azure"},{id:"SQL",text:"SQL"},{id:"NoSQL",text:"NoSQL"},{id:"TypeScript",text:"TypeScript"},{id:"Sass",text:"Sass"},{id:"PHP",text:"PHP"},{id:"Ruby",text:"Ruby"},{id:"Elixir",text:"Elixir"},{id:"Flutter",text:"Flutter"},{id:"Kotlin",text:"Kotlin"},{id:"Swift",text:"Swift"}],m=()=>{const{navigateToList:e}=(0,d.Z)(),{postFormState:t,postFormDispatcher:s,savePost:m,fetchStatus:y}=(0,u.Z)(),{postTags:v,currentVisibilityMode:S,postCategory:f,postTitle:T,markdownContent:w}=t,{categoryName:j}=f||{};return"loading"===y?(0,g.jsxs)("div",{className:"m-5",children:[(0,g.jsx)(h.tb,{}),(0,g.jsx)(h.tb,{}),(0,g.jsx)(h.tb,{}),(0,g.jsx)(h.tb,{}),(0,g.jsx)(h.tb,{})]}):"failure"===y?(0,g.jsx)("div",{children:"Failed"}):(0,g.jsx)(a.Fragment,{children:(0,g.jsxs)("div",{className:"text-default m-5",children:[(0,g.jsxs)("div",{className:"flex my-2",children:[(0,g.jsxs)("span",{onClick:()=>{e()},className:"flex text-sm p-2 bg-default hover-accent hover-text-custom rounded-md cursor-pointer mx-1",children:[(0,g.jsx)("span",{className:"flex items-center pr-2",children:(0,g.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-circle-chevron-left",children:[(0,g.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,g.jsx)("path",{d:"m14 16-4-4 4-4"})]})}),"Go Back"]}),(0,g.jsx)("div",{className:"flex text-sm p-2 bg-highlight rounded-md cursor-pointer mx-1",children:(0,g.jsx)(l.Z,{category:f,onChange:(e,t)=>{s({type:x.a.SET_CATEGORY,payload:t})}})})]}),(0,g.jsxs)("div",{className:"flex justify-between w-full ",children:[(0,g.jsxs)("div",{className:"flex flex-col w-3/4",children:[(0,g.jsx)("div",{children:(0,g.jsx)(o.Z,{items:[j,T]})}),(0,g.jsx)("div",{className:"flex",children:(0,g.jsx)(r.Z,{textBoxFieldProps:{size:"sm",placeholder:"Choose tags (press Enter to add)"},tags:v,onChange:e=>{s({type:x.a.SET_TAGS,payload:e})},onCreate:e=>{},suggestions:p})})]}),(0,g.jsxs)("div",{className:"flex flex-col",children:[(0,g.jsx)("div",{className:"",children:(0,g.jsx)(c.Z,{onChange:e=>{s({type:x.a.SET_VISIBILITY,payload:e})},currentMode:S})}),(0,g.jsx)("div",{onClick:async()=>{await m()&&setTimeout((()=>{e()}),1300)},className:"bg-accent border border-accent hover-text-default hover-border-accent hover-transparent text-custom text-sm my-2 p-1 px-2 cursor-pointer rounded-md",children:(0,g.jsxs)("span",{className:"flex",children:["Save",(0,g.jsx)("span",{className:"text-xs bg-secondary text-secondary border border-secondary px-1 mx-1 rounded-md",children:"\u2318 + Enter"})]})})]})]}),(0,g.jsxs)("div",{className:"editing-note py-2 bg-default shadow-xl rounded-lg",children:[(0,g.jsx)(i.Z,{className:"text-default text-lg mx-2",text:T,onSave:e=>{s({type:x.a.SET_TITLE,payload:e})}}),(0,g.jsx)("div",{className:"h-screen-1/2s overflow-scrolls",children:(0,g.jsx)(n.Z,{content:w,onChange:e=>{s({type:x.a.SET_CONTENT,payload:e})},isPreviewEnabled:!0})})]})]})})}}}]);
//# sourceMappingURL=203.f3a07d2c.chunk.js.map