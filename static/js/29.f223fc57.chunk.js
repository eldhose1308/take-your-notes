"use strict";(self.webpackChunktake_your_notes_v1=self.webpackChunktake_your_notes_v1||[]).push([[29],{4664:(e,t,s)=>{s.d(t,{Z:()=>o});var i=s(2791),a=s(6215),n=s(913),r=s(6033),l=s(184);const o=e=>{const{title:t,children:s}=e,[o,c]=(0,i.useState)(null),d=()=>{c(!0)};return o?(0,l.jsxs)(a.Z,{isShown:o,hasOverlay:!0,size:"xl",children:[(0,l.jsxs)("div",{className:"my-4",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)(n.Z,{textVariant:"h3",size:"md",className:"my-4 mx-4",children:t}),(0,l.jsx)("button",{onClick:()=>{c(!1)},type:"button","data-drawer-hide":"drawer-example","aria-controls":"drawer-example",className:"text-default bg-transparent rounded-lg text-sm flex items-center justify-center mx-4",children:(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-x",children:[(0,l.jsx)("path",{d:"M18 6 6 18"}),(0,l.jsx)("path",{d:"m6 6 12 12"})]})})]}),(0,l.jsx)(r.Z,{className:"my-2"})]}),(0,l.jsx)("div",{className:"mx-4 mb-4 py-4 text-sm",children:s})]}):(0,l.jsx)("span",{onClick:d,className:"flex hover-text-info items-center cursor-pointer pl-2",children:(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-info",children:[(0,l.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,l.jsx)("path",{d:"M12 16v-4"}),(0,l.jsx)("path",{d:"M12 8h.01"})]})})}},792:(e,t,s)=>{s.d(t,{Z:()=>m});var i=s(2791),a=s(6215),n=s(1381),r=s(913),l=s(1039),o=(s(8189),s(7323)),c=s(1685),d=s(7359),h=s(184);const x={none:"Create",loading:"Creating",failure:"Failed",completed:"Created"},u={none:"Update",loading:"Updating",failure:"Failed",completed:"Updated"},m=e=>{const{categoryModalData:t,onClose:s=(()=>{})}=e,{status:m,data:g={},onClick:j}=t||{},{id:p,categoryName:f=""}=g,v=p?u:x,y="".concat(p?"Update Category":"Create Category"),w="Are you sure you want to ".concat(p?"update the category":"create a new category","?"),[C,N]=(0,i.useState)([]),[k,b]=(0,i.useState)([]),[Z,z]=(0,i.useState)(f),[L,M]=(0,i.useState)("none"),[V,S]=(0,i.useState)(""),F=()=>{s(),z("")};return(0,i.useEffect)((()=>{z(f)}),[f]),(0,i.useEffect)((()=>{(async()=>{try{const e=await o.zg();b(e)}catch(e){console.log(e)}})()}),[]),m?(0,h.jsx)(a.Z,{isShown:!0,hasOverlay:!0,size:"lg",children:(0,h.jsxs)(n.Zb,{variant:"ghost",rounded:"lg",children:[(0,h.jsxs)(n.Ol,{children:[(0,h.jsx)(r.Z,{size:"lg",children:y}),(0,h.jsx)(r.Z,{size:"xs",textVariant:"default",children:w}),p?(0,h.jsx)(r.Z,{size:"xs",textVariant:"bold",children:f}):null]}),(0,h.jsxs)(n.aY,{children:[(0,h.jsx)(l.zC,{type:"text",labelName:"New category name",placeholder:"Enter category name",value:Z,onChange:z,size:"sm",isFocused:!0,validationMsg:{type:"error",messages:[V]}}),(0,h.jsx)("div",{className:"my-3",children:(0,h.jsx)(c.Z,{mainCategories:C,onChange:e=>{N(e)},suggestions:k})}),(0,h.jsxs)(d.p,{type:"info",children:[(0,h.jsx)(r.Z,{textVariant:"light",size:"xs",children:"- While creating a new category, please verify the main categories/tags below."}),(0,h.jsx)(r.Z,{textVariant:"light",size:"xs",children:"- This ensures your category and posts can be easily found in user suggestions and properly grouped for processing."})]})]}),(0,h.jsxs)(n.eW,{className:"p-0 flex justify-between",children:[(0,h.jsx)(l.zx,{size:"xs",width:"none",variant:"custom",onClick:()=>{F()},children:"Cancel"}),(0,h.jsx)(l.zx,{size:"xs",width:"none",variant:"accent",onClick:async()=>{const e=C.map((e=>e.id)),t=(e=>e?(S(""),!0):(S("Please enter a category name"),!1))(Z),s={category_name:Z,main_category_ids:e};if(t)if(j){M("loading");try{await j(s,p),M("completed"),setTimeout((()=>{F()}),1e3)}catch(i){M("failure"),S(i)}finally{setTimeout((()=>{M("none")}),1e3)}}else F()},buttonStatus:L,children:v[L]})]})]})}):null}},1685:(e,t,s)=>{s.d(t,{Z:()=>r});var i=s(2791),a=s(4487),n=s(184);const r=e=>{const{mainCategories:t=[],suggestions:s=[],onChange:r=(()=>{}),onCreate:l=(()=>{}),className:o,...c}=e,[d,h]=(0,i.useState)(""),x=e=>t.slice(0,e).concat(t.slice(e+1));return(0,n.jsx)(i.Fragment,{children:(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"flex max-w-mds justify-ends text-default  ".concat(o),children:[t.map(((e,t)=>{const{mainCategoryName:s}=e;return(0,n.jsxs)("div",{className:"flex bg-custom mx-1 my-1 text-xs rounded-md",children:[(0,n.jsxs)("span",{className:"mx-1 px-2 py-1",children:["#",s]}),(0,n.jsx)("span",{className:"flex items-center text-bold rounded-md cursor-pointer px-1 hover-destructive hover-text-custom",onClick:()=>(e=>{const t=x(e);r(t)})(t),children:(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-x",children:[(0,n.jsx)("path",{d:"M18 6 6 18"}),(0,n.jsx)("path",{d:"m6 6 12 12"})]})})]},t)})),t.length>2&&(0,n.jsx)("div",{className:"flex mx-1 my-1 text-xs rounded-md",children:(0,n.jsx)("span",{className:"flex items-center text-bold rounded-md cursor-pointer px-1 hover-destructive hover-text-custom",onClick:()=>{r([])},children:(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-delete",children:[(0,n.jsx)("path",{d:"M20 5H9l-7 7 7 7h11a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2Z"}),(0,n.jsx)("line",{x1:"18",x2:"12",y1:"9",y2:"15"}),(0,n.jsx)("line",{x1:"12",x2:"18",y1:"9",y2:"15"})]})})})]}),(0,n.jsx)("div",{className:"flex justify-ends",children:(0,n.jsx)("div",{className:"min-w-md",children:(0,n.jsx)(a.Z,{placeholder:"Type and press Enter to select",labelName:"Related Tags",...c,onKeyDown:(e,s)=>{if("Enter"===s.key){if(!e)return;h(""),l(e)}if("Backspace"===s.key&&0===e.length){const e=t.length,s=x(e-1);r(s)}},onChange:(e,t)=>{h(e)},onSuggestionClick:(e,t)=>{r(t)},onCreate:(e,t)=>{l(e),h("")},value:d,selectedOptions:t,suggestions:s,labelKey:"mainCategoryName",idKey:"id",hasCreateNew:!1})})})]})})}},2029:(e,t,s)=>{s.r(t),s.d(t,{default:()=>k});var i=s(2791),a=s(7779),n=s(3934),r=s(5307),l=s(1686),o=s(938),c=s(913),d=s(775),h=s(6119),x=s(184);const u="unverified",m="rejected",g=[{id:"verified",label:"Verified",modeElement:(0,x.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-circle-check-big",children:[(0,x.jsx)("path",{d:"M21.801 10A10 10 0 1 1 17 3.335"}),(0,x.jsx)("path",{d:"m9 11 3 3L22 4"})]})},{id:u,label:"Pending",modeElement:(0,x.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-clock-alert",children:[(0,x.jsx)("path",{d:"M12 6v6l4 2"}),(0,x.jsx)("path",{d:"M16 21.16a10 10 0 1 1 5-13.516"}),(0,x.jsx)("path",{d:"M20 11.5v6"}),(0,x.jsx)("path",{d:"M20 21.5h.01"})]})},{id:m,label:"Rejected",modeElement:(0,x.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-octagon-x",children:[(0,x.jsx)("path",{d:"m15 9-6 6"}),(0,x.jsx)("path",{d:"M2.586 16.726A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2h6.624a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586z"}),(0,x.jsx)("path",{d:"m9 9 6 6"})]})}],j={verified:{verified:"verified"},unverified:{verified:"unverified"},rejected:{verified:"rejected"}},p=g[0].id,f=e=>{let{onChange:t,currentMode:s=p}=e;return(0,x.jsx)(h.Z,{modes:g,onChange:e=>{t(j[e])},selectedValue:s,renderLabel:!0})};s(8327);var v=s(792),y=s(6033),w=s(7359),C=s(4664);const N=()=>(0,x.jsx)(C.Z,{title:"Help information about My Categories",children:(0,x.jsxs)(i.Fragment,{children:[(0,x.jsxs)("div",{className:"mb-4",children:[(0,x.jsx)(c.Z,{size:"md",className:"mb-2",children:"Category Information:"}),(0,x.jsx)(c.Z,{textVariant:"light",size:"xs",children:"- Pending Categories: Need admin verification before being visible."}),(0,x.jsx)(c.Z,{textVariant:"light",size:"xs",children:"- Verified Categories: Publicly visible."}),(0,x.jsx)(c.Z,{textVariant:"light",size:"xs",children:"- Rejected Categories: Cannot be edited; contact the admin for changes."})]}),(0,x.jsxs)(w.p,{type:"info",children:[(0,x.jsx)(c.Z,{children:"Note!"}),(0,x.jsx)(c.Z,{textVariant:"light",size:"xs",children:"You can edit categories that are in the pending verification state."})]}),(0,x.jsx)(y.Z,{className:"my-4"}),(0,x.jsxs)("div",{className:"mb-4",children:[(0,x.jsx)(c.Z,{size:"md",className:"mb-2",children:"Create New Category Information:"}),(0,x.jsx)(c.Z,{textVariant:"light",size:"xs",children:"- You can add new categories, but they will need admin approval before being visible to the public."})]}),(0,x.jsxs)(w.p,{type:"error",children:[(0,x.jsx)(c.Z,{children:"Important!"}),(0,x.jsx)(c.Z,{textVariant:"light",size:"xs",children:"Once a category is verified or rejected, you cannot alter it. For any changes, please contact the administrator."})]})]})}),k=()=>{const{fetchStatus:e,fetchMyPostCategories:t,savePostCategory:s}=(0,l.Z)(),{currentPage:h,isAllDataFetched:u,incrementPagination:m,checkIfAllDataFetched:g,resetPagination:j}=(0,n.Z)({pageSize:30}),[p,y]=(0,i.useState)({verified:"unverified"}),[w,C]=(0,i.useState)([]),[k,b]=(0,i.useState)(null),{userName:Z}=(0,d.bV)(),z=!("following"===p.filters&&!Z)&&"unauthorised"!==e,L=async e=>{const s={...p,...e};y(s),C([]),j();const i={page:1,limit:30,...s};try{const e=await t(i);g(e),C(e)}catch(a){console.error(a)}},M=async()=>{const e={page:h+1,limit:30,...p};try{const s=await t(e)||[];return C((e=>[...e,...s])),m(),g(s),s}catch(s){throw console.error(s),s}},V=async e=>{await s(e);L({verified:"unverified"})};return(0,i.useEffect)((()=>{M()}),[]),(0,x.jsxs)(i.Fragment,{children:[(0,x.jsxs)("div",{className:"text-default m-5",children:[(0,x.jsxs)("div",{className:"flex",children:[(0,x.jsxs)("div",{className:"flex justify-between w-full",children:[(0,x.jsxs)("div",{className:"flex flex-col mx-2 my-2",children:[(0,x.jsxs)(c.Z,{size:"lg",type:"h2",className:"flex",children:["Your Categories",(0,x.jsx)(N,{})]}),(0,x.jsx)(c.Z,{variant:"secondary",size:"sm",textVariant:"default",children:"List of all the categories published by you (Verified/Pending/Rejected)"})]}),(0,x.jsx)("div",{className:"flex",children:(0,x.jsxs)("div",{className:"content-center mx-2",children:[(0,x.jsxs)("div",{onClick:e=>{b({data:{categoryName:"string"===typeof e?e:""},status:!0,onClick:V})},className:"flex text-sm p-2 my-2 bg-default hover-accent hover-text-custom rounded-md cursor-pointer mx-1",children:["Create New",(0,x.jsx)("span",{className:"flex items-center pl-2",children:(0,x.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-circle-plus",children:[(0,x.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,x.jsx)("path",{d:"M8 12h8"}),(0,x.jsx)("path",{d:"M12 8v8"})]})})]}),(0,x.jsx)(f,{onChange:L,currentMode:p.verified,renderLabel:!0})]})})]}),(0,x.jsx)("div",{className:"flex justify-between w-full my-2",children:z&&(0,x.jsx)(i.Fragment,{children:(0,x.jsx)(r.ZP,{onChange:L})})})]}),(0,x.jsx)("div",{className:"flex my-2",children:(0,x.jsx)(a.Z,{isEmpty:"success"!==e,initialFetchStatus:e,currentPage:h,isAllDataFetched:u,fetchDataMethod:M,children:(0,x.jsx)(o.Z,{categoriesList:w,hasAuthActions:!0})})})]}),!!k&&(0,x.jsx)(v.Z,{onClose:()=>{b(null)},categoryModalData:k})]})}}}]);
//# sourceMappingURL=29.f223fc57.chunk.js.map