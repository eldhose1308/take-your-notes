"use strict";(self.webpackChunktake_your_notes_v1=self.webpackChunktake_your_notes_v1||[]).push([[824],{1685:(e,t,n)=>{n.d(t,{Z:()=>r});var a=n(2791),s=n(4487),c=n(184);const r=e=>{const{mainCategories:t=[],suggestions:n=[],onChange:r=(()=>{}),onCreate:o=(()=>{}),className:i,...l}=e,[d,u]=(0,a.useState)(""),h=e=>t.slice(0,e).concat(t.slice(e+1));return(0,c.jsx)(a.Fragment,{children:(0,c.jsxs)("div",{children:[(0,c.jsxs)("div",{className:"flex max-w-mds justify-ends text-default  ".concat(i),children:[t.map(((e,t)=>{const{mainCategoryName:n}=e;return(0,c.jsxs)("div",{className:"flex bg-custom mx-1 my-1 text-xs rounded-md",children:[(0,c.jsxs)("span",{className:"mx-1 px-2 py-1",children:["#",n]}),(0,c.jsx)("span",{className:"flex items-center text-bold rounded-md cursor-pointer px-1 hover-destructive hover-text-custom",onClick:()=>(e=>{const t=h(e);r(t)})(t),children:(0,c.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-x",children:[(0,c.jsx)("path",{d:"M18 6 6 18"}),(0,c.jsx)("path",{d:"m6 6 12 12"})]})})]},t)})),t.length>2&&(0,c.jsx)("div",{className:"flex mx-1 my-1 text-xs rounded-md",children:(0,c.jsx)("span",{className:"flex items-center text-bold rounded-md cursor-pointer px-1 hover-destructive hover-text-custom",onClick:()=>{r([])},children:(0,c.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-delete",children:[(0,c.jsx)("path",{d:"M20 5H9l-7 7 7 7h11a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2Z"}),(0,c.jsx)("line",{x1:"18",x2:"12",y1:"9",y2:"15"}),(0,c.jsx)("line",{x1:"12",x2:"18",y1:"9",y2:"15"})]})})})]}),(0,c.jsx)("div",{className:"flex justify-ends",children:(0,c.jsx)("div",{className:"min-w-md",children:(0,c.jsx)(s.Z,{placeholder:"Type and press Enter to select",labelName:"Related Tags",...l,onKeyDown:(e,n)=>{if("Enter"===n.key){if(!e)return;u(""),o(e)}if("Backspace"===n.key&&0===e.length){const e=t.length,n=h(e-1);r(n)}},onChange:(e,t)=>{u(e)},onSuggestionClick:(e,t)=>{r(t)},onCreate:(e,t)=>{o(e),u("")},value:d,selectedOptions:t,suggestions:n,labelKey:"mainCategoryName",idKey:"id",hasCreateNew:!1})})})]})})}},5824:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var a=n(2791),s=(n(1381),n(913)),c=n(1039),r=n(1685),o=n(7359),i=n(7323),l=n(7689),d=n(184);const u={none:"Create",loading:"Creating",failure:"Failed",completed:"Created"},h={none:"Update",loading:"Updating",failure:"Failed",completed:"Updated"},g=e=>{const{id:t}=(0,l.UO)(),{categoryModalData:n,onClose:g=(()=>{})}=e,{data:y={},onClick:m}=n||{},{categoryName:x=""}=y,w=t?h:u,p="".concat(t?"Update Category":"Create Category"),f="Are you sure you want to ".concat(t?"update the category":"create a new category","?"),[C,j]=(0,a.useState)([]),[_,v]=(0,a.useState)([]),[N,k]=(0,a.useState)(),[Z,b]=(0,a.useState)(x),[z,S]=(0,a.useState)("none"),[U,V]=(0,a.useState)("none"),[A,B]=(0,a.useState)("");return(0,a.useEffect)((()=>{b(x)}),[x]),(0,a.useEffect)((()=>{(async()=>{try{const e=await i.zg();v(e)}catch(e){console.log(e)}})()}),[]),(0,a.useEffect)((()=>{if(!t)return;(async()=>{try{V("loading");const e=await i.rP(t),{id:n,mainCategories:a,categoryName:s}=e||{};k(n),b(s),j(a),V("success")}catch(e){V("failure")}})()}),[t]),(0,d.jsx)(a.Fragment,{children:(0,d.jsxs)("div",{className:"flex flex-col",children:[(0,d.jsxs)("div",{className:"flex flex-col px-3 py-2",children:[(0,d.jsx)(s.Z,{size:"lg",children:p}),(0,d.jsx)(s.Z,{size:"xs",textVariant:"default",children:f}),t?(0,d.jsx)(s.Z,{size:"xs",textVariant:"bold",children:x}):null]}),(0,d.jsxs)("div",{className:"flex flex-col mx-3 px-3 py-2 bg-default",children:[(0,d.jsx)("div",{className:"my-3",children:(0,d.jsx)(c.zC,{type:"text",labelName:"New category name",placeholder:"Enter category name",value:Z,onChange:b,size:"sm",isFocused:!0,validationMsg:{type:"error",messages:[A]}})}),(0,d.jsx)("div",{className:"my-3",children:(0,d.jsx)(r.Z,{mainCategories:C,onChange:e=>{j(e)},suggestions:_})}),(0,d.jsxs)(o.p,{type:"info",children:[(0,d.jsx)(s.Z,{textVariant:"light",size:"xs",children:"- While creating a new category, please verify the main categories/tags below."}),(0,d.jsx)(s.Z,{textVariant:"light",size:"xs",children:"- This ensures your category and posts can be easily found in user suggestions and properly grouped for processing."})]})]}),(0,d.jsxs)("div",{className:"items-center px-2 py-4 flex justify-between",children:[(0,d.jsx)(c.zx,{size:"xs",width:"none",variant:"custom",onClick:()=>{},children:"Cancel"}),(0,d.jsx)(c.zx,{size:"xs",width:"none",variant:"accent",onClick:async()=>{const e=C.map((e=>e.id)),n=(e=>e?(B(""),!0):(B("Please enter a category name"),!1))(Z),a={category_name:Z,main_category_ids:e};if(n)if(t){S("loading");try{await i.$A(a,N);S("completed")}catch(s){S("failure"),B(s)}finally{setTimeout((()=>{S("none")}),1e3)}}else;},buttonStatus:z,children:w[z]})]})]})})}},7323:(e,t,n)=>{n.d(t,{Bg:()=>w,Yl:()=>g,Zk:()=>i,rP:()=>l,zg:()=>d,hk:()=>u,wG:()=>h,N_:()=>p,t4:()=>m,ZV:()=>y,$A:()=>x});var a=n(8777),s=n(3003);var c=n(3630);const r=e=>{const{category_name:t,category_slug:n,category_icon:a,posts_count:s,followers_count:r,created_at:o,full_name:i="Admin",user_name:l,category_id:d,is_following:u,verified:h}=e;return{id:d,categoryName:t,categorySlug:n,categoryIcon:a,followers:r,posts:s,createdUser:i,createdUserName:l,createdAt:(0,c.B)(o),isFollowing:!!u,isVerified:!!Number(h)}},o=e=>{const{main_category_name:t,main_category_slug:n,created_at:a,main_category_id:s}=e;return{id:s,mainCategoryName:t,mainCategorySlug:n,createdAt:(0,c.B)(a)}},i=async function(e){try{const t=await async function(e){const t=(0,s.K)(a._n+"postCategories/my",e);return new s.Z(t).get().then((e=>e)).catch((e=>{throw e}))}(e),{data:n=[]}=t;return n.map(r)||[]}catch(t){throw t}},l=async function(e){const t=await async function(e){return new s.Z("".concat(a._n,"postCategories/my/").concat(e)).get().then((e=>e)).catch((e=>{throw e.response}))}(e),{data:n=[]}=t,c=(e=>{const{main_categories:t,...n}=e;return{...r(n),mainCategories:t.map(o)}})(n);return c||[]},d=async function(e){try{const t=await async function(e){const t=(0,s.K)(a._n+"postMainCategories",e);return new s.Z(t).get().then((e=>e)).catch((e=>{throw e}))}(e),{data:n=[]}=t;return n.map(o)||[]}catch(t){throw t}},u=async function(e){try{const t=await async function(e){const t=(0,s.K)(a._n+"postCategories",e);return new s.Z(t).get().then((e=>e)).catch((e=>{throw e}))}(e),{data:n=[]}=t;return n.map(r)||[]}catch(t){throw t}},h=async function(e){const t=await async function(e){return new s.Z(a._n+"postCategories/".concat(e)).get().then((e=>e)).catch((e=>{throw e.response}))}(e),{data:n=[]}=t;return r(n)||{}},g=async function(e){try{await async function(e){return new s.Z(a._n+"postCategories/".concat(e,"/follow")).post().then((e=>e)).catch((e=>{throw e}))}(e);return!0}catch(t){throw t}},y=async function(e){try{await async function(e){return new s.Z(a._n+"postCategories/".concat(e,"/unfollow")).post().then((e=>e)).catch((e=>{throw e}))}(e);return!0}catch(t){throw t}},m=async function(e){try{const t=await async function(e){return new s.Z(a._n+"postCategories").post(e).then((e=>e)).catch((e=>{throw e}))}(e),{data:n=[]}=t;return r(n)}catch(t){throw t}},x=async function(e,t){try{const n=await async function(e,t){return new s.Z(a._n+"postCategories/".concat(t)).put(e).then((e=>e)).catch((e=>{throw e.response}))}(e,t),{data:c=[]}=n;return r(c)}catch(n){throw n}},w=async function(e){try{return await async function(e){return new s.Z(a._n+"postCategories/".concat(e)).delete().then((e=>e)).catch((e=>{throw e}))}(e)}catch(t){throw t}},p=async function(e){try{return await async function(e){return new s.Z(a._n+"postCategories/".concat(e,"/restore")).post().then((e=>e)).catch((e=>{throw e}))}(e)}catch(t){throw t}}}}]);
//# sourceMappingURL=824.34f5a9eb.chunk.js.map