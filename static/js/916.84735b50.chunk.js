"use strict";(self.webpackChunktake_your_notes_v1=self.webpackChunktake_your_notes_v1||[]).push([[916],{1475:(e,t,s)=>{s.d(t,{tb:()=>o.Z});s(542),s(6003);var o=s(6051)},6843:(e,t,s)=>{s.d(t,{Z:()=>n});var o=s(2791),r=s(1087),a=s(184);const n=e=>{let{items:t=[],links:s=[]}=e;const n=t.length-1;return(0,a.jsx)("div",{className:"flex rounded-lg px-2 my-2 text-xs bg-default text-secondary",children:t.map(((e,t)=>{const i=t===n;return(0,a.jsxs)(o.Fragment,{children:[s[t]?(0,a.jsx)(r.rU,{to:s[t],children:(0,a.jsx)("span",{className:"".concat(i?"text-default":""),children:e})}):(0,a.jsx)("span",{className:"".concat(i?"text-default":""),children:e}),!i&&(0,a.jsx)("span",{className:"flex items-center text-default mx-1",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-chevron-right",children:(0,a.jsx)("path",{d:"m9 18 6-6-6-6"})})})]})}))})}},475:(e,t,s)=>{s.d(t,{a:()=>o});const o={SET_FIELDS:"SET_FIELDS",SET_TAGS:"SET_TAGS",SET_VISIBILITY:"SET_VISIBILITY",SET_CONTENT:"SET_CONTENT",SET_TITLE:"SET_TITLE",SET_CATEGORY:"SET_CATEGORY",RESET_FORM:"RESET_FORM"}},2144:(e,t,s)=>{s.d(t,{Qd:()=>r,XD:()=>a,ZM:()=>n});var o=s(184);const r={private:"private",public:"public"},a=[{id:r.private,label:"Private",modeElement:(0,o.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-eye-off",children:[(0,o.jsx)("path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49"}),(0,o.jsx)("path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242"}),(0,o.jsx)("path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143"}),(0,o.jsx)("path",{d:"m2 2 20 20"})]})},{id:r.public,label:"Public",modeElement:(0,o.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-eye",children:[(0,o.jsx)("path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0"}),(0,o.jsx)("circle",{cx:"12",cy:"12",r:"3"})]})}],n="My First Post"},1172:(e,t,s)=>{s.d(t,{Z:()=>x});var o=s(2791),r=s(1087),a=s(7689),n=s(7128),i=s(7323),c=s(2144),l=s(475);const d={postTags:[],currentVisibilityMode:c.Qd.public,postTitle:c.ZM,postCategory:null,markdownContent:""},u=(e,t)=>{let{type:s,payload:o}=t;switch(s){case l.a.SET_FIELDS:return{...e,...o};case l.a.SET_TAGS:return{...e,postTags:o};case l.a.SET_VISIBILITY:return{...e,currentVisibilityMode:o};case l.a.SET_CONTENT:return{...e,markdownContent:o};case l.a.SET_TITLE:return{...e,postTitle:o};case l.a.SET_CATEGORY:return{...e,postCategory:o};case l.a.RESET_FORM:return d;default:return e}};s(4921);var p=s(2817),h=s(775),g=s(7155);const x=()=>{const[e,t]=(0,r.lr)(),{id:s}=(0,a.UO)(),{toast:c}=(0,p.p)(),{logout:x}=(0,g.Z)(),[y,m]=(0,o.useReducer)(u,{...d}),[T,f]=(0,o.useState)("none"),v=(0,o.useCallback)((async e=>{try{const t=await n.TJ(e);return c({heading:"Post created successfully!",description:"Your post has been successfully published!",options:{position:"top-right"}}).success(),t}catch(t){const{message:e,statusCode:s}=t;return 401===s&&x(),c({heading:"Oops! There was an error creating your post.",description:e,options:{position:"top-right"}}).error(),!1}}),[]),E=(0,o.useCallback)((async(e,t)=>{try{const s=await n.CP(e,t);return c({heading:"Post updated successfully!",description:"Your post has been successfully updated!",options:{position:"top-right"}}).success(),s}catch(s){const{message:e}=s;return c({heading:"Oops! There was an error updating your post.",description:e,options:{position:"top-right"}}).error(),!1}}),[]),j=(0,o.useCallback)((async e=>{try{const t=await n.fR(e);return c({heading:"Post deleted successfully!",description:"Your post has been successfully deleted!",options:{position:"top-right"}}).success(),t}catch(t){const{message:e,statusCode:s}=t;throw 401===s&&x(),c({heading:"Oops! There was an error deleting your post.",description:e,options:{position:"top-right"}}).error(),t}}),[]),w=(0,o.useCallback)((async e=>{try{const t=await n.ts(e);return c({heading:"Post restored successfully!",description:"Your post has been successfully restored!",options:{position:"top-right"}}).success(),t}catch(t){const{message:e}=t;throw c({heading:"Oops! There was an error restoring your post.",description:e,options:{position:"top-right"}}).error(),t}}),[]);return(0,o.useEffect)((()=>{}),[s]),{fetchCategoriesData:async e=>{try{f("loading");const e=await i.hk();return f("success"),setTimeout((()=>{f("none")}),1e3),e}catch(t){f("failure")}},fetchMyPostsData:async e=>{try{f("loading");const t=await n.$n(e);return 0===t.length?f("empty"):(f("success"),setTimeout((()=>{f("none")}),1e3)),t}catch(t){const{statusCode:e}=t;throw 401===e&&x(),f("failure"),t}},fetchUsersPostItem:async()=>{const{userName:e}=(0,h.bV)();try{f("loading");const t=await n.zQ({userName:e,postSlug:s}),{id:o,category:r,content:a,postTitle:i,visibility:c,user:d}=t||{},{categoryId:u,categoryName:p,categorySlug:h}=r||{},{fullName:g,avatar:x}=d||{},y={postId:o,markdownContent:a,postTitle:i,currentVisibilityMode:c,postCategory:{id:u,categoryName:p,categorySlug:h,value:h}};m({type:l.a.SET_FIELDS,payload:y}),f("success")}catch(t){f("failure")}},savePost:async()=>{const[e,t]=(e=>{const{postTags:t,currentVisibilityMode:s,postCategory:o,postTitle:r,markdownContent:a}=e;return o?s?r?a?[!1,""]:[!0,"Post content is missing"]:[!0,"Post Title is missing"]:[!0,"Post Visibility Mode is missing"]:[!0,"Category is missing"]})(y);if(e)return void c({heading:"Oops! Please verify the changes.",description:t,options:{position:"top-right"}}).error();const{postId:o,postTags:r,currentVisibilityMode:a,postCategory:n,postTitle:i,markdownContent:l}=y,d={category:n.id,content:l,post_title:i,visibility:a};return s?E(d,o):v(d)},deletePost:j,restorePost:w,postFormState:y,postFormDispatcher:m,fetchStatus:T}}},3203:(e,t,s)=>{s.r(t),s.d(t,{default:()=>y});var o=s(2791),r=s(1937),a=s(6843),n=(s(8189),s(6987)),i=s(6114),c=s(4232),l=s(4855),d=s(1172),u=s(475),p=s(1475),h=(s(1686),s(7359),s(913)),g=(s(3719),s(3479)),x=s(184);const y=()=>{const{navigateToList:e}=(0,l.Z)(),{postFormState:t,fetchUsersPostItem:s,postFormDispatcher:y,savePost:m,fetchStatus:T}=(0,d.Z)(),{postTags:f,currentVisibilityMode:v,postCategory:E,postTitle:j,markdownContent:w}=t,{categoryName:S}=E||{};return(0,o.useEffect)((()=>{s()}),[]),"loading"===T?(0,x.jsxs)("div",{className:"m-5",children:[(0,x.jsx)(p.tb,{}),(0,x.jsx)(p.tb,{}),(0,x.jsx)(p.tb,{}),(0,x.jsx)(p.tb,{}),(0,x.jsx)(p.tb,{})]}):"failure"===T?(0,x.jsx)("div",{children:"Failed"}):(0,x.jsx)(o.Fragment,{children:(0,x.jsxs)("div",{className:"text-default m-5",children:[(0,x.jsxs)("div",{className:"flex items-center my-2",children:[(0,x.jsxs)(h.Z,{size:"lg",type:"h2",className:"flex mr-3",children:["Post page",(0,x.jsx)(g.Z,{})]}),(0,x.jsx)("div",{className:"flex text-sm p-2 bg-highlight rounded-md cursor-pointer mx-1",children:(0,x.jsx)(c.Z,{category:E,onChange:(e,t)=>{y({type:u.a.SET_CATEGORY,payload:t})}})})]}),(0,x.jsxs)("div",{className:"flex justify-between w-full ",children:[(0,x.jsx)("div",{className:"flex flex-col w-3/4",children:(0,x.jsx)("div",{children:(0,x.jsx)(a.Z,{items:[S||"Select a category",j]})})}),(0,x.jsxs)("div",{className:"flex flex-col",children:[(0,x.jsx)("div",{className:"",children:(0,x.jsx)(i.Z,{onChange:e=>{y({type:u.a.SET_VISIBILITY,payload:e})},currentMode:v})}),(0,x.jsx)("div",{onClick:async()=>{await m()&&setTimeout((()=>{e()}),1300)},className:"bg-accent border border-accent hover-text-default hover-border-accent hover-transparent text-custom text-sm my-2 p-1 px-2 cursor-pointer rounded-md",children:(0,x.jsxs)("span",{className:"flex",children:["Save",(0,x.jsx)("span",{className:"text-xs bg-secondary text-secondary border border-secondary px-1 mx-1 rounded-md",children:"\u2318 + Enter"})]})})]})]}),(0,x.jsxs)("div",{className:"editing-note py-2 bg-default shadow-xl rounded-lg",children:[(0,x.jsx)(n.Z,{className:"text-default text-lg mx-2",text:j,onSave:e=>{y({type:u.a.SET_TITLE,payload:e})}}),(0,x.jsx)("div",{className:"h-screen-1/2s overflow-scrolls",children:(0,x.jsx)(r.Z,{content:w,onChange:e=>{y({type:u.a.SET_CONTENT,payload:e})},isPreviewEnabled:!0})})]})]})})}}}]);
//# sourceMappingURL=916.84735b50.chunk.js.map