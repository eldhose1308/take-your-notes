"use strict";(self.webpackChunktake_your_notes_v1=self.webpackChunktake_your_notes_v1||[]).push([[272],{7359:(e,t,s)=>{s.d(t,{p:()=>r});s(2791);var a=s(184);const n={info:{border:"border-info",text:"text-info"},error:{border:"border-destructive",text:"text-destructive"}},o={info:(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-info",children:[(0,a.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,a.jsx)("path",{d:"M12 16v-4"}),(0,a.jsx)("path",{d:"M12 8h.01"})]}),error:(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-triangle-alert",children:[(0,a.jsx)("path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3"}),(0,a.jsx)("path",{d:"M12 9v4"}),(0,a.jsx)("path",{d:"M12 17h.01"})]})},r=e=>{const{type:t="error",children:s}=e;return(0,a.jsxs)("div",{className:"flex text-sm my-2 px-4 py-2 bg-default border-l ".concat(n[t].border," rounded-md"),children:[(0,a.jsx)("div",{className:"flex ".concat(n[t].text," items-center mr-2"),children:o[t]}),(0,a.jsx)("div",{className:"flex flex-col",children:s})]})}},4664:(e,t,s)=>{s.d(t,{Z:()=>c});var a=s(2791),n=s(6215),o=s(913),r=s(6033),i=s(184);const c=e=>{const{title:t,children:s}=e,[c,l]=(0,a.useState)(null),d=()=>{l(!0)};return c?(0,i.jsxs)(n.Z,{isShown:c,hasOverlay:!0,size:"xl",children:[(0,i.jsxs)("div",{className:"my-4",children:[(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)(o.Z,{textVariant:"h3",size:"md",className:"my-4 mx-4",children:t}),(0,i.jsx)("button",{onClick:()=>{l(!1)},type:"button","data-drawer-hide":"drawer-example","aria-controls":"drawer-example",className:"text-default bg-transparent rounded-lg text-sm flex items-center justify-center mx-4",children:(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-x",children:[(0,i.jsx)("path",{d:"M18 6 6 18"}),(0,i.jsx)("path",{d:"m6 6 12 12"})]})})]}),(0,i.jsx)(r.Z,{className:"my-2"})]}),(0,i.jsx)("div",{className:"mx-4 mb-4 py-4 text-sm",children:s})]}):(0,i.jsx)("span",{onClick:d,className:"flex hover-text-info items-center cursor-pointer pl-2",children:(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-info",children:[(0,i.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,i.jsx)("path",{d:"M12 16v-4"}),(0,i.jsx)("path",{d:"M12 8h.01"})]})})}},3479:(e,t,s)=>{s.d(t,{Z:()=>h});var a=s(2791),n=s(6033),o=s(7359),r=s(913),i=s(4664),c=s(1087),l=s(3719),d=s(184);const h=()=>(0,d.jsx)(i.Z,{title:"Help information about My Posts",children:(0,d.jsxs)(a.Fragment,{children:[(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsx)(r.Z,{size:"md",className:"mb-2",children:"Posts Information:"}),(0,d.jsx)(r.Z,{textVariant:"light",size:"xs",children:"- Public Posts: These posts are visible to everyone and can be accessed by all users."}),(0,d.jsx)(r.Z,{textVariant:"light",size:"xs",children:"- Private Posts: These posts are only visible to you until they are made public."})]}),(0,d.jsxs)(o.p,{type:"info",children:[(0,d.jsx)(r.Z,{children:"Heads up!"}),(0,d.jsx)(r.Z,{textVariant:"light",size:"xs",children:"On list of posts created by you. The faded items are posts whose category has been created but not yet approved by the admin."})]}),(0,d.jsx)(n.Z,{className:"my-4"}),(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsx)(r.Z,{size:"md",className:"mb-2",children:"Create New Category Information:"}),(0,d.jsx)(r.Z,{textVariant:"light",size:"xs",children:"- When creating a new post, you can type in the name of your desired category in the category dropdown."}),(0,d.jsx)(r.Z,{textVariant:"light",size:"xs",children:"- If no existing category matches your needs, you can create a new one."}),(0,d.jsxs)(r.Z,{textVariant:"light",size:"xs",children:["- The new category will be submitted for admin approval. Until it's approved, it will be ",(0,d.jsx)("b",{children:"only visible to you"}),"."]})]}),(0,d.jsxs)(o.p,{type:"error",children:[(0,d.jsx)(r.Z,{children:"Important!"}),(0,d.jsx)(r.Z,{textVariant:"light",size:"xs",children:"Posts under unverified categories will only be visible on the home page and to users once the category is verified."}),(0,d.jsxs)(r.Z,{textVariant:"light",size:"xs",children:["You can check the status of the category in the ",(0,d.jsx)(c.rU,{to:l.Z.MY_CATEGORY,className:"text-bold underline",children:"my category"})," section."]})]}),(0,d.jsx)(n.Z,{className:"my-4"}),(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsx)(r.Z,{size:"md",className:"mb-2",children:"Managing Categories:"}),(0,d.jsxs)(r.Z,{textVariant:"light",size:"xs",children:["- You can create and manage your categories in the ",(0,d.jsx)(c.rU,{to:l.Z.MY_CATEGORY,className:"text-bold underline",children:"MyCategories"})," page."]})]})]})})},792:(e,t,s)=>{s.d(t,{Z:()=>x});var a=s(2791),n=s(6215),o=s(1381),r=s(913),i=s(1039),c=(s(8189),s(7323)),l=s(1685),d=s(184);const h={none:"Create",loading:"Creating",failure:"Failed",completed:"Created"},u={none:"Update",loading:"Updating",failure:"Failed",completed:"Updated"},x=e=>{const{categoryModalData:t,onClose:s=(()=>{})}=e,{status:x,data:g={},onClick:p}=t||{},{id:m,categoryName:y=""}=g,w=m?u:h,j="".concat(m?"Update Category":"Create Category"),v="Are you sure you want to ".concat(m?"update the category":"create a new category","?"),[f,C]=(0,a.useState)([]),[b,T]=(0,a.useState)([]),[k,N]=(0,a.useState)(y),[S,Z]=(0,a.useState)("none"),[E,M]=(0,a.useState)(""),_=()=>{s(),N("")};return(0,a.useEffect)((()=>{N(y)}),[y]),(0,a.useEffect)((()=>{(async()=>{try{const e=await c.zg();T(e)}catch(e){console.log(e)}})()}),[]),x?(0,d.jsx)(n.Z,{isShown:!0,hasOverlay:!0,size:"lg",children:(0,d.jsxs)(o.Zb,{variant:"ghost",rounded:"lg",children:[(0,d.jsxs)(o.Ol,{children:[(0,d.jsx)(r.Z,{size:"lg",children:j}),(0,d.jsx)(r.Z,{size:"xs",textVariant:"default",children:v}),m?(0,d.jsx)(r.Z,{size:"xs",textVariant:"bold",children:y}):null]}),(0,d.jsxs)(o.aY,{children:[(0,d.jsx)(i.zC,{type:"text",labelName:"New category name",placeholder:"Enter category name",value:k,onChange:N,size:"sm",isFocused:!0,validationMsg:{type:"error",messages:[E]}}),(0,d.jsx)("div",{className:"my-3",children:(0,d.jsx)(l.Z,{mainCategories:f,onChange:e=>{C(e)},suggestions:b})})]}),(0,d.jsxs)(o.eW,{className:"p-0 flex justify-between",children:[(0,d.jsx)(i.zx,{size:"xs",width:"none",variant:"custom",onClick:()=>{_()},children:"Cancel"}),(0,d.jsx)(i.zx,{size:"xs",width:"none",variant:"accent",onClick:async()=>{const e=f.map((e=>e.id)),t=(e=>e?(M(""),!0):(M("Please enter a category name"),!1))(k),s={category_name:k,main_category_ids:e};if(t)if(p){Z("loading");try{await p(s,m),Z("completed"),setTimeout((()=>{_()}),1e3)}catch(a){Z("failure"),M(a)}finally{setTimeout((()=>{Z("none")}),1e3)}}else _()},buttonStatus:S,children:w[S]})]})]})}):null}},1685:(e,t,s)=>{s.d(t,{Z:()=>r});var a=s(2791),n=s(4487),o=s(184);const r=e=>{const{mainCategories:t=[],suggestions:s=[],onChange:r=(()=>{}),onCreate:i=(()=>{}),className:c,...l}=e,[d,h]=(0,a.useState)(""),u=e=>t.slice(0,e).concat(t.slice(e+1));return(0,o.jsx)(a.Fragment,{children:(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{className:"flex max-w-mds justify-ends text-default  ".concat(c),children:[t.map(((e,t)=>{const{mainCategoryName:s}=e;return(0,o.jsxs)("div",{className:"flex bg-custom mx-1 my-1 text-xs rounded-md",children:[(0,o.jsxs)("span",{className:"mx-1 px-2 py-1",children:["#",s]}),(0,o.jsx)("span",{className:"flex items-center text-bold rounded-md cursor-pointer px-1 hover-destructive hover-text-custom",onClick:()=>(e=>{const t=u(e);r(t)})(t),children:(0,o.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-x",children:[(0,o.jsx)("path",{d:"M18 6 6 18"}),(0,o.jsx)("path",{d:"m6 6 12 12"})]})})]},t)})),t.length>2&&(0,o.jsx)("div",{className:"flex mx-1 my-1 text-xs rounded-md",children:(0,o.jsx)("span",{className:"flex items-center text-bold rounded-md cursor-pointer px-1 hover-destructive hover-text-custom",onClick:()=>{r([])},children:(0,o.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-delete",children:[(0,o.jsx)("path",{d:"M20 5H9l-7 7 7 7h11a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2Z"}),(0,o.jsx)("line",{x1:"18",x2:"12",y1:"9",y2:"15"}),(0,o.jsx)("line",{x1:"12",x2:"18",y1:"9",y2:"15"})]})})})]}),(0,o.jsx)("div",{className:"flex justify-ends",children:(0,o.jsx)("div",{className:"min-w-md",children:(0,o.jsx)(n.Z,{placeholder:"Type and press Enter",...l,onKeyDown:(e,s)=>{if("Enter"===s.key){if(!e)return;h(""),i(e)}if("Backspace"===s.key&&0===e.length){const e=t.length,s=u(e-1);r(s)}},onChange:(e,t)=>{h(e)},onSuggestionClick:(e,t)=>{r(t)},onCreate:(e,t)=>{i(e),h("")},value:d,selectedOptions:t,suggestions:s,labelKey:"mainCategoryName",idKey:"id",hasCreateNew:!1})})})]})})}},4232:(e,t,s)=>{s.d(t,{Z:()=>l});var a=s(2791),n=s(3097),o=s(1686),r=s(792),i=s(5866),c=s(184);const l=e=>{let{category:t,categoryList_arg:s,onChange:l=(()=>{}),hasAddOption:d=!0}=e;const{savePostCategory:h,fetchMyPostCategories:u,fetchStatus:x,isAllDataFetched:g,categories:p}=(0,o.Z)(),[m,y]=(0,a.useState)({filters:"explore",verified:"all",limit:30,page:1}),[w,j]=(0,a.useState)(t),[v,f]=(0,a.useState)([]),{id:C,categoryName:b="Select a category"}=(0,a.useMemo)((()=>w||{}),[w]),[T,k]=(0,a.useState)(null),N=(0,i.Z)(),S=(e,t)=>{const{categorySlug:s=""}=t||{};j(t),l(e,t,s)},Z=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const t={...m,...e};try{const e=await u(t);f((t=>[...t,...e])),y((e=>({...e,page:e.page+1})))}catch(s){console.error(s)}},E=async e=>{try{const t=await h(e);f((e=>[...e,t])),j(t),l(t.id,t)}catch(t){throw console.error(t),t}};return(0,a.useEffect)((()=>{Z()}),[]),(0,c.jsxs)(a.Fragment,{children:[(0,c.jsxs)(n.ZP,{children:[(0,c.jsx)(n.f_,{children:(0,c.jsxs)("span",{className:"flex mx-1 items-center text-secondary cursor-pointer",children:[(0,c.jsx)("span",{className:"",children:b}),(0,c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"14",height:"14",fill:"currentColor",children:(0,c.jsx)("path",{d:"M18 9 12 3 6 9H18ZM18 15 12 21 6 15H18Z"})})]})}),(0,c.jsx)(n.Fo,{heading:"Select a category",options:v,onChange:S,isFetching:"loading"===x,isAllDataFetched:g,onNewOptions:Z,onSearch:N((async e=>{const t={...m,search:e,page:1};try{const e=await u(t);f(e),y((e=>({...e,page:2})))}catch(s){console.error(s)}}),500),renderAdd:d?e=>{if(e)return(0,c.jsxs)("span",{className:"block w-full",onClick:()=>{var t;k({data:{categoryName:"string"===typeof(t=e)?t:""},status:!0,onClick:E})},children:['Create new "',e,'"']})}:()=>{},selectedValue:C,idKey:"id",labelKey:"categoryName",isSpecialKey:"isVerified"}),!!C&&(0,c.jsx)("span",{className:"flex items-center text-bold rounded-md cursor-pointer px-1 hover-text-destructive",onClick:()=>S(""),children:(0,c.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-delete",children:[(0,c.jsx)("path",{d:"M20 5H9l-7 7 7 7h11a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2Z"}),(0,c.jsx)("line",{x1:"18",x2:"12",y1:"9",y2:"15"}),(0,c.jsx)("line",{x1:"12",x2:"18",y1:"9",y2:"15"})]})})]},"".concat(C,"_").concat(b)),!!T&&(0,c.jsx)(r.Z,{onClose:()=>{k(null)},categoryModalData:T})]})}},6114:(e,t,s)=>{s.d(t,{Z:()=>r});s(2791);var a=s(6119),n=s(2144),o=s(184);const r=e=>{let{currentMode:t,onChange:s}=e;return(0,o.jsx)(a.Z,{modes:n.XD,onChange:s,selectedValue:t,renderLabel:!0})}},475:(e,t,s)=>{s.d(t,{a:()=>a});const a={SET_FIELDS:"SET_FIELDS",SET_TAGS:"SET_TAGS",SET_VISIBILITY:"SET_VISIBILITY",SET_CONTENT:"SET_CONTENT",SET_TITLE:"SET_TITLE",SET_CATEGORY:"SET_CATEGORY",RESET_FORM:"RESET_FORM"}},2144:(e,t,s)=>{s.d(t,{Qd:()=>n,XD:()=>o,ZM:()=>r});var a=s(184);const n={private:"private",public:"public"},o=[{id:n.private,label:"Private",modeElement:(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-eye-off",children:[(0,a.jsx)("path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49"}),(0,a.jsx)("path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242"}),(0,a.jsx)("path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143"}),(0,a.jsx)("path",{d:"m2 2 20 20"})]})},{id:n.public,label:"Public",modeElement:(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-eye",children:[(0,a.jsx)("path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0"}),(0,a.jsx)("circle",{cx:"12",cy:"12",r:"3"})]})}],r="My First Post"},1172:(e,t,s)=>{s.d(t,{Z:()=>p});var a=s(2791),n=s(1087),o=s(7689),r=s(7128),i=s(7323),c=s(2144),l=s(475);const d={postTags:[],currentVisibilityMode:c.Qd.public,postTitle:c.ZM,postCategory:null,markdownContent:""},h=(e,t)=>{let{type:s,payload:a}=t;switch(s){case l.a.SET_FIELDS:return{...e,...a};case l.a.SET_TAGS:return{...e,postTags:a};case l.a.SET_VISIBILITY:return{...e,currentVisibilityMode:a};case l.a.SET_CONTENT:return{...e,markdownContent:a};case l.a.SET_TITLE:return{...e,postTitle:a};case l.a.SET_CATEGORY:return{...e,postCategory:a};case l.a.RESET_FORM:return d;default:return e}};s(4921);var u=s(2817),x=s(775),g=s(7155);const p=()=>{const[e,t]=(0,n.lr)(),{id:s}=(0,o.UO)(),{toast:c}=(0,u.p)(),{logout:p}=(0,g.Z)(),[m,y]=(0,a.useReducer)(h,{...d}),[w,j]=(0,a.useState)("none"),v=(0,a.useCallback)((async e=>{try{const t=await r.TJ(e);return c({heading:"Post created successfully!",description:"Your post has been successfully published!",options:{position:"top-right"}}).success(),t}catch(t){const{message:e,statusCode:s}=t;return 401===s&&p(),c({heading:"Oops! There was an error creating your post.",description:e,options:{position:"top-right"}}).error(),!1}}),[]),f=(0,a.useCallback)((async(e,t)=>{try{const s=await r.CP(e,t);return c({heading:"Post updated successfully!",description:"Your post has been successfully updated!",options:{position:"top-right"}}).success(),s}catch(s){const{message:e}=s;return c({heading:"Oops! There was an error updating your post.",description:e,options:{position:"top-right"}}).error(),!1}}),[]),C=(0,a.useCallback)((async e=>{}),[]);return(0,a.useEffect)((()=>{if(!s)return;(async()=>{const{userName:e}=(0,x.bV)();try{j("loading");const t=await r.zQ({userName:e,postSlug:s}),{id:a,category:n,content:o,postTitle:i,user:c}=t||{},{categoryId:d,categoryName:h}=n||{},{fullName:u,avatar:x}=c||{},g={postId:a,markdownContent:o,postTitle:i,postCategory:{id:d,categoryName:h,value:d}};y({type:l.a.SET_FIELDS,payload:g}),j("success")}catch(t){j("failure")}})()}),[s]),{fetchCategoriesData:async e=>{try{j("loading");const e=await i.hk();return j("success"),setTimeout((()=>{j("none")}),1e3),e}catch(t){j("failure")}},fetchMyPostsData:async e=>{try{j("loading");const t=await r.$n(e);return 0===t.length?j("empty"):(j("success"),setTimeout((()=>{j("none")}),1e3)),t}catch(t){const{statusCode:e}=t;throw 401===e&&p(),j("failure"),t}},savePost:async()=>{const[e,t]=(e=>{const{postTags:t,currentVisibilityMode:s,postCategory:a,postTitle:n,markdownContent:o}=e;return a?s?n?o?[!1,""]:[!0,"Post content is missing"]:[!0,"Post Title is missing"]:[!0,"Post Visibility Mode is missing"]:[!0,"Category is missing"]})(m);if(e)return void c({heading:"Oops! Please verify the changes.",description:t,options:{position:"top-right"}}).error();const{postId:a,postTags:n,currentVisibilityMode:o,postCategory:r,postTitle:i,markdownContent:l}=m,d={category:r.id,content:l,post_title:i,visibility:o};return s?f(d,a):v(d)},deletePost:C,postFormState:m,postFormDispatcher:y,fetchStatus:w}}},1686:(e,t,s)=>{s.d(t,{Z:()=>i});var a=s(2791),n=s(7323),o=s(2817),r=s(7155);const i=()=>{const[e,t]=(0,a.useState)([]),[s,i]=(0,a.useState)([]),[c,l]=(0,a.useState)("none"),[d,h]=(0,a.useState)(!1),{toast:u}=(0,o.p)(),{logout:x}=(0,r.Z)(),g=(e,t)=>{t&&h(0===e.length||e.length%t!==0)};return{categoryData:s,isAllDataFetched:d,categories:e,fetchStatus:c,fetchMyPostCategories:async e=>{const{limit:t}=e||{};try{l("loading");const s=await n.Zk(e);return g(s,t),0===s.length?l("empty"):(l("success"),setTimeout((()=>{}),1e3)),s}catch(s){const{statusCode:e}=s||{};401===e&&x(),l("failure")}},fetchPostCategories:async e=>{const{limit:t}=e||{};try{l("loading");const s=await n.hk(e);return g(s,t),0===s.length?l("empty"):(l("success"),setTimeout((()=>{}),1e3)),s}catch(s){const{statusCode:e}=s||{};l(401===e?"unauthorised":"failure")}},fetchPostCategoryByName:async e=>{try{l("loading");const t=await n.wG(e);return i(t),l("success"),t}catch(t){l("failure")}},savePostCategory:async e=>(async e=>{try{const t=await n.t4(e);return u({heading:"Post Category created successfully!",description:"Your post Category is now in review, but will be approved by admin soon!",options:{position:"top-right"}}).success(),t}catch(t){const{message:e="Something went wrong"}=t||{};throw e}})(e)}}},4855:(e,t,s)=>{s.d(t,{Z:()=>n});var a=s(7689);const n=()=>{const e=(0,a.s0)();return{navigateToList:()=>{e("/my/posts")},navigateToCreate:()=>{e("create")},navigateToEdit:t=>{e("edit/"+t)}}}}}]);
//# sourceMappingURL=272.c9fb62a7.chunk.js.map